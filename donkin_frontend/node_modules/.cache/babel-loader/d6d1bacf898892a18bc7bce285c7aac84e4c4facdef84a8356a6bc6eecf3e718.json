{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useCallback, useRef, useState } from \"react\";\nconst MainSlideCall = () => {\n  _s();\n  const [data, setData] = useState({});\n  const addSideData = useCallback((point, css, index, max) => {\n    setData({\n      ...data,\n      [point]: {\n        css: css,\n        index: index,\n        max: max\n      }\n    });\n  }, []);\n  //data[\"top\"][\"index\"]=3\n  console.log(data);\n  console.log(data.top[index]);\n  const [bannerOrder, setBanner] = useState(1);\n  const bannerRef = useRef(1);\n  const bannerPlayRef = useRef();\n  const [mainorder, setMaim] = useState(1);\n  const MainRef = useRef(1);\n  const [topBannerSet, setTopBannerSet] = useState(false);\n  const [mainBannerSet, setMainBannerSet] = useState(false);\n\n  //console.log(\"bannerOrder_\"+bannerOrder)\n  //console.log(\"topBannerSet_\"+topBannerSet)\n\n  const setOrder = useCallback((num, type) => {\n    type === \"top\" ? bannerRef.current = num : MainRef.current = num;\n    type === \"top\" ? setBanner(num) : setMaim(num);\n  }, []);\n  const onPlay = () => {\n    //console.log(type)\n    bannerPlayRef.current = setInterval(() => {\n      console.log(\"Interval\");\n      slideCall(bannerRef.current === 3 ? 1 : bannerRef.current + 1, \"top\", 500);\n    }, 6500);\n  };\n  const onClickButton = (num, type) => {\n    //console.log(type)\n\n    if (type === \"top\") {\n      clearInterval(bannerPlayRef.current);\n      slideCall(num, type, 500);\n      onPlay();\n    } else if (type === \"main\") {\n      clearInterval(mainPlay());\n      slideCall(num, type, 500);\n      mainPlay();\n    }\n    setTimeout(() => {\n      slideCall(num, type, 500);\n    }, 300);\n  };\n  const mainPlay = useCallback(() => {\n    //console.log(\"mainPlay\")   \n    return setInterval(() => {\n      slideCall(MainRef.current === 6 ? 1 : MainRef.current + 1, \"main\", 500);\n    }, 6500);\n  }, []);\n  const slidePlay = () => {\n    onPlay();\n    //mainPlay();\n  };\n  const slideCall = (num, type, time) => {\n    type === \"top\" ? setTopBannerSet(true) : setMainBannerSet(true);\n    setTimeout(() => {\n      type === \"top\" ? setTopBannerSet(false) : setMainBannerSet(false);\n      setOrder(num, type);\n    }, time);\n  };\n  const slideReCall = (num, type, time) => {\n    type === \"top\" ? setTopBannerSet(true) : setMainBannerSet(true);\n    setTimeout(() => {\n      type === \"top\" ? setTopBannerSet(false) : setMainBannerSet(false);\n      setOrder(num - 1, type);\n    }, time);\n  };\n  return [bannerOrder, mainorder, topBannerSet, mainBannerSet, {\n    addSideData,\n    slidePlay,\n    onClickButton\n  }];\n};\n_s(MainSlideCall, \"8UwP5Mb6+hqGFCMrgOb2hkL31qA=\");\n_c = MainSlideCall;\nexport default MainSlideCall;\nvar _c;\n$RefreshReg$(_c, \"MainSlideCall\");","map":{"version":3,"names":["useCallback","useRef","useState","MainSlideCall","_s","data","setData","addSideData","point","css","index","max","console","log","top","bannerOrder","setBanner","bannerRef","bannerPlayRef","mainorder","setMaim","MainRef","topBannerSet","setTopBannerSet","mainBannerSet","setMainBannerSet","setOrder","num","type","current","onPlay","setInterval","slideCall","onClickButton","clearInterval","mainPlay","setTimeout","slidePlay","time","slideReCall","_c","$RefreshReg$"],"sources":["C:/dunkindonuts/donkin_frontend/src/mainSlideCall.js"],"sourcesContent":["import { useCallback, useRef, useState } from \"react\";\r\n\r\n\r\nconst MainSlideCall = () =>{\r\n    \r\n    const [data,setData] =useState({})\r\n\r\n    const addSideData = useCallback((point,css,index,max) => {\r\n        \r\n        setData({\r\n            ...data,\r\n            [point] : {\r\n                    css : css,\r\n                    index :index,\r\n                    max : max,\r\n            },\r\n        })\r\n        \r\n    }, []);\r\n    //data[\"top\"][\"index\"]=3\r\n    console.log(data)\r\n    console.log(data.top[index])\r\n    \r\n        const [bannerOrder,setBanner] = useState(1);\r\n        const bannerRef = useRef(1)\r\n        const bannerPlayRef = useRef();\r\n        \r\n         const [mainorder,setMaim] = useState(1);\r\n         const MainRef = useRef(1)\r\n        \r\n        const [topBannerSet, setTopBannerSet] = useState(false);\r\n        const [mainBannerSet, setMainBannerSet] = useState(false);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    //console.log(\"bannerOrder_\"+bannerOrder)\r\n    //console.log(\"topBannerSet_\"+topBannerSet)\r\n\r\n    const setOrder = useCallback((num,type) => {\r\n        type===\"top\"?bannerRef.current =num: MainRef.current = num\r\n        type===\"top\"?setBanner(num): setMaim(num)\r\n  }, []);\r\n\r\n\r\n\r\n const onPlay = ()=>{\r\n    //console.log(type)\r\n    bannerPlayRef.current = setInterval(() => {  \r\n        console.log(\"Interval\")   \r\n      slideCall(bannerRef.current===3?1:bannerRef.current+1,\"top\",500);\r\n  },6500)\r\n    \r\n};\r\n const onClickButton = (num,type)=>{\r\n    //console.log(type)\r\n    \r\n    if(type===\"top\"){\r\n        clearInterval(bannerPlayRef.current)\r\n        slideCall(num,type,500)\r\n        onPlay()\r\n    }else if(type===\"main\"){\r\n        clearInterval(mainPlay())\r\n        slideCall(num,type,500)\r\n        mainPlay()\r\n    }\r\n    setTimeout(()=>{\r\n        slideCall(num,type,500)\r\n    },300)\r\n    \r\n};\r\n const mainPlay = useCallback(()=>{\r\n    //console.log(\"mainPlay\")   \r\n    return setInterval(() => {     \r\n        slideCall(MainRef.current===6?1:MainRef.current+1,\"main\",500);\r\n    },6500); \r\n },[])\r\n const slidePlay=()=>{\r\n    onPlay();\r\n        //mainPlay();\r\n }\r\n \r\n    const slideCall = (num,type,time) =>{\r\n\r\n            type===\"top\"?setTopBannerSet(true):setMainBannerSet(true)\r\n            setTimeout(()=>{\r\n                type===\"top\"?setTopBannerSet(false):setMainBannerSet(false)\r\n                setOrder(num,type);\r\n            },time)     \r\n        };\r\n        const slideReCall = (num,type,time) =>{\r\n            type===\"top\"?setTopBannerSet(true):setMainBannerSet(true)\r\n            setTimeout(()=>{\r\n                type===\"top\"?setTopBannerSet(false):setMainBannerSet(false)\r\n                setOrder(num-1,type);\r\n            },time)     \r\n        };\r\n    return [bannerOrder,mainorder,topBannerSet,mainBannerSet,{addSideData,slidePlay,onClickButton},];    \r\n\r\n\r\n\r\n}\r\nexport default MainSlideCall;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}